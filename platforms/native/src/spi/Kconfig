# SPI Configuration for Native Platform

config NATIVE_SPI_ENABLE
    bool "Enable SPI support for Native platform"
    default y
    depends on PLATFORM_NATIVE
    help
      Enable SPI peripheral support for the Native platform.
      This provides simulated SPI functionality for testing
      and development on PC.

if NATIVE_SPI_ENABLE

# SPI0 Configuration
menuconfig INSTANCE_NX_SPI_0
    bool "Enable SPI0"
    default y
    depends on NATIVE_SPI_ENABLE
    help
      Enable SPI instance 0.

if INSTANCE_NX_SPI_0

config SPI0_MAX_SPEED
    int "SPI0 maximum speed (Hz)"
    default 1000000
    help
      Maximum SPI speed for SPI0 in Hz (simulated).

choice
    prompt "SPI0 clock polarity"
    default NX_SPI0_CPOL_LOW
    depends on INSTANCE_NX_SPI_0

config NX_SPI0_CPOL_LOW
    bool "Clock polarity low (CPOL=0)"

config NX_SPI0_CPOL_HIGH
    bool "Clock polarity high (CPOL=1)"

endchoice

config SPI0_CPOL_VALUE
    int
    default 0 if NX_SPI0_CPOL_LOW
    default 1 if NX_SPI0_CPOL_HIGH

choice
    prompt "SPI0 clock phase"
    default NX_SPI0_CPHA_EDGE_1
    depends on INSTANCE_NX_SPI_0

config NX_SPI0_CPHA_EDGE_1
    bool "First edge (CPHA=0)"

config NX_SPI0_CPHA_EDGE_2
    bool "Second edge (CPHA=1)"

endchoice

config SPI0_CPHA_VALUE
    int
    default 0 if NX_SPI0_CPHA_EDGE_1
    default 1 if NX_SPI0_CPHA_EDGE_2

choice
    prompt "SPI0 bit order"
    default NX_SPI0_MSB_FIRST
    depends on INSTANCE_NX_SPI_0

config NX_SPI0_MSB_FIRST
    bool "MSB first"

config NX_SPI0_LSB_FIRST
    bool "LSB first"

endchoice

config SPI0_MSB_VALUE
    int
    default 0 if NX_SPI0_MSB_FIRST
    default 1 if NX_SPI0_LSB_FIRST

config SPI0_BIT_ORDER_VALUE
    int
    default 0 if NX_SPI0_MSB_FIRST
    default 1 if NX_SPI0_LSB_FIRST

config SPI0_TX_BUFFER_SIZE
    int "SPI0 TX buffer size"
    default 256
    range 16 4096
    help
      Size of TX buffer for SPI0 in bytes.

config SPI0_RX_BUFFER_SIZE
    int "SPI0 RX buffer size"
    default 256
    range 16 4096
    help
      Size of RX buffer for SPI0 in bytes.

endif # INSTANCE_NX_SPI_0

# SPI1 Configuration
menuconfig INSTANCE_NX_SPI_1
    bool "Enable SPI1"
    default n
    depends on NATIVE_SPI_ENABLE
    help
      Enable SPI instance 1.

if INSTANCE_NX_SPI_1

config SPI1_MAX_SPEED
    int "SPI1 maximum speed (Hz)"
    default 1000000
    help
      Maximum SPI speed for SPI1 in Hz (simulated).

choice
    prompt "SPI1 clock polarity"
    default NX_SPI1_CPOL_LOW
    depends on INSTANCE_NX_SPI_1

config NX_SPI1_CPOL_LOW
    bool "Clock polarity low (CPOL=0)"

config NX_SPI1_CPOL_HIGH
    bool "Clock polarity high (CPOL=1)"

endchoice

config SPI1_CPOL_VALUE
    int
    default 0 if NX_SPI1_CPOL_LOW
    default 1 if NX_SPI1_CPOL_HIGH

choice
    prompt "SPI1 clock phase"
    default NX_SPI1_CPHA_EDGE_1
    depends on INSTANCE_NX_SPI_1

config NX_SPI1_CPHA_EDGE_1
    bool "First edge (CPHA=0)"

config NX_SPI1_CPHA_EDGE_2
    bool "Second edge (CPHA=1)"

endchoice

config SPI1_CPHA_VALUE
    int
    default 0 if NX_SPI1_CPHA_EDGE_1
    default 1 if NX_SPI1_CPHA_EDGE_2

choice
    prompt "SPI1 bit order"
    default NX_SPI1_MSB_FIRST
    depends on INSTANCE_NX_SPI_1

config NX_SPI1_MSB_FIRST
    bool "MSB first"

config NX_SPI1_LSB_FIRST
    bool "LSB first"

endchoice

config SPI1_MSB_VALUE
    int
    default 0 if NX_SPI1_MSB_FIRST
    default 1 if NX_SPI1_LSB_FIRST

config SPI1_BIT_ORDER_VALUE
    int
    default 0 if NX_SPI1_MSB_FIRST
    default 1 if NX_SPI1_LSB_FIRST

config SPI1_TX_BUFFER_SIZE
    int "SPI1 TX buffer size"
    default 256
    range 16 4096
    help
      Size of TX buffer for SPI1 in bytes.

config SPI1_RX_BUFFER_SIZE
    int "SPI1 RX buffer size"
    default 256
    range 16 4096
    help
      Size of RX buffer for SPI1 in bytes.

endif # INSTANCE_NX_SPI_1

# SPI2 Configuration
menuconfig INSTANCE_NX_SPI_2
    bool "Enable SPI2"
    default n
    depends on NATIVE_SPI_ENABLE
    help
      Enable SPI instance 2.

if INSTANCE_NX_SPI_2

config SPI2_MAX_SPEED
    int "SPI2 maximum speed (Hz)"
    default 1000000
    help
      Maximum SPI speed for SPI2 in Hz (simulated).

choice
    prompt "SPI2 clock polarity"
    default NX_SPI2_CPOL_LOW
    depends on INSTANCE_NX_SPI_2

config NX_SPI2_CPOL_LOW
    bool "Clock polarity low (CPOL=0)"

config NX_SPI2_CPOL_HIGH
    bool "Clock polarity high (CPOL=1)"

endchoice

config SPI2_CPOL_VALUE
    int
    default 0 if NX_SPI2_CPOL_LOW
    default 1 if NX_SPI2_CPOL_HIGH

choice
    prompt "SPI2 clock phase"
    default NX_SPI2_CPHA_EDGE_1
    depends on INSTANCE_NX_SPI_2

config NX_SPI2_CPHA_EDGE_1
    bool "First edge (CPHA=0)"

config NX_SPI2_CPHA_EDGE_2
    bool "Second edge (CPHA=1)"

endchoice

config SPI2_CPHA_VALUE
    int
    default 0 if NX_SPI2_CPHA_EDGE_1
    default 1 if NX_SPI2_CPHA_EDGE_2

choice
    prompt "SPI2 bit order"
    default NX_SPI2_MSB_FIRST
    depends on INSTANCE_NX_SPI_2

config NX_SPI2_MSB_FIRST
    bool "MSB first"

config NX_SPI2_LSB_FIRST
    bool "LSB first"

endchoice

config SPI2_MSB_VALUE
    int
    default 0 if NX_SPI2_MSB_FIRST
    default 1 if NX_SPI2_LSB_FIRST

config SPI2_BIT_ORDER_VALUE
    int
    default 0 if NX_SPI2_MSB_FIRST
    default 1 if NX_SPI2_LSB_FIRST

config SPI2_TX_BUFFER_SIZE
    int "SPI2 TX buffer size"
    default 256
    range 16 4096
    help
      Size of TX buffer for SPI2 in bytes.

config SPI2_RX_BUFFER_SIZE
    int "SPI2 RX buffer size"
    default 256
    range 16 4096
    help
      Size of RX buffer for SPI2 in bytes.

endif # INSTANCE_NX_SPI_2

# SPI3 Configuration
menuconfig INSTANCE_NX_SPI_3
    bool "Enable SPI3"
    default n
    depends on NATIVE_SPI_ENABLE
    help
      Enable SPI instance 3.

if INSTANCE_NX_SPI_3

config SPI3_MAX_SPEED
    int "SPI3 maximum speed (Hz)"
    default 1000000
    help
      Maximum SPI speed for SPI3 in Hz (simulated).

choice
    prompt "SPI3 clock polarity"
    default NX_SPI3_CPOL_LOW
    depends on INSTANCE_NX_SPI_3

config NX_SPI3_CPOL_LOW
    bool "Clock polarity low (CPOL=0)"

config NX_SPI3_CPOL_HIGH
    bool "Clock polarity high (CPOL=1)"

endchoice

config SPI3_CPOL_VALUE
    int
    default 0 if NX_SPI3_CPOL_LOW
    default 1 if NX_SPI3_CPOL_HIGH

choice
    prompt "SPI3 clock phase"
    default NX_SPI3_CPHA_EDGE_1
    depends on INSTANCE_NX_SPI_3

config NX_SPI3_CPHA_EDGE_1
    bool "First edge (CPHA=0)"

config NX_SPI3_CPHA_EDGE_2
    bool "Second edge (CPHA=1)"

endchoice

config SPI3_CPHA_VALUE
    int
    default 0 if NX_SPI3_CPHA_EDGE_1
    default 1 if NX_SPI3_CPHA_EDGE_2

choice
    prompt "SPI3 bit order"
    default NX_SPI3_MSB_FIRST
    depends on INSTANCE_NX_SPI_3

config NX_SPI3_MSB_FIRST
    bool "MSB first"

config NX_SPI3_LSB_FIRST
    bool "LSB first"

endchoice

config SPI3_MSB_VALUE
    int
    default 0 if NX_SPI3_MSB_FIRST
    default 1 if NX_SPI3_LSB_FIRST

config SPI3_BIT_ORDER_VALUE
    int
    default 0 if NX_SPI3_MSB_FIRST
    default 1 if NX_SPI3_LSB_FIRST

config SPI3_TX_BUFFER_SIZE
    int "SPI3 TX buffer size"
    default 256
    range 16 4096
    help
      Size of TX buffer for SPI3 in bytes.

config SPI3_RX_BUFFER_SIZE
    int "SPI3 RX buffer size"
    default 256
    range 16 4096
    help
      Size of RX buffer for SPI3 in bytes.

endif # INSTANCE_NX_SPI_3

endif # NATIVE_SPI_ENABLE
